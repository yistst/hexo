<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>云桌面的部署过程</title>
      <link href="/2022/03/27/abyzm0hj/"/>
      <url>/2022/03/27/abyzm0hj/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在寻找免费服务器的艰辛道路上白嫖了个<a href="https://www.abeiyun.com/free/">阿贝云</a>的免费服务器，虽然性能只有 1 核 1G 加 10G 空间(服务器查询有 40G)但 5G 共享网络让我起了云桌面的心，当天注册后只领取到一个免费的云主机，带有 Msqlserver 数据库，可选的 php 可以部署一些网页，对于我来说没什么诱惑力时限是 30 天，30 天后要发个帖子打广告并且把链接给官方审核。可能是申请的人数较多我没申请到云服务器，于是又过了些天，没事的时候点一下就申请到了。</p><p>  到了选择系统这一项总共也就 3 个系统 Windows Centos Ubuntu 但是非常坑的是 Windows 需要支付两元才能选择，于是我理所应当的选择了 Ubuntu，选择系统版本时才发现也只有 3 版本 12.4 14.4 16.4 不知道这么老的版本还能不能用的情况下我选择了 16.4 装完使用 Termux 连接上</p><h2 id="dd-安装其它系统"><a href="#dd-安装其它系统" class="headerlink" title="dd 安装其它系统"></a>dd 安装其它系统</h2><p>  后来我又想起，dd 命令可以装系统，打算装个 Debian 11 玩玩。百度了一圈回来找到了这个脚本，<a href="https://www.815494.com/html/734.html">dd 安装系统脚本</a>不仅可以安装 Debian 11 还有 Windows 各种版本 在我满怀期待下允许脚本装好了 Debian 11 打算安装 xfce4 桌面后，不知道什么原因导致 vnc 无法连接上，于是我又重装了一遍，允许脚本 插电!开机! 哦吼，这一次我没那么幸运，脚本安装系统失败了，具体原因不是很清楚，有兴趣的可以去试试。</p><h2 id="系统升级"><a href="#系统升级" class="headerlink" title="系统升级"></a>系统升级</h2><p>  实在是没办法只能靠系统更新的方式更新到了 Ubuntu18.04 版本，先把系统软件包全部更新到最新</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update &amp;&amp; apt upgrade -y</span><br></pre></td></tr></table></figure><p>更新时会有交互状态，更新完成后重启服务器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure><p>最后执行 do-release-upgrade</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">do-release-upgrade</span><br></pre></td></tr></table></figure><p>  需要注意的是远程 ssh 时千万不要让 ssh 连接的软件后台被杀了，不然当前 tty 进程就被结束，系统更新也会随之取消了。如果使用的是 Ternux 软件尽量让软件保持前台，我给了后台无限制和自启权限以及<code>termux-wake-lock</code>都没能辛免被杀的可能。</p><h2 id="安装-X-环境"><a href="#安装-X-环境" class="headerlink" title="安装 X 环境"></a>安装 X 环境</h2><p>其实 xfce4 就非常好用，美化完不占空间也不耗资源，但是总有个别人只需要显示就行，于是 fvwm2 超精简的桌面我也尝试过</p><p>  理论支持 Debian 及 Debian 衍生的版本，Ububtu 也是 Debian 的衍生版，先给终端语言调成中文，这样看着舒服一些，安装字体</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install -y locales fonts-wqy-zenhei</span><br></pre></td></tr></table></figure><p>有了支持显示的字体后，开启 CN.UTF-8 的支持，主要是修改 “&#x2F;etc&#x2F;locale.gen” “&#x2F;etc&#x2F;default&#x2F;locale” 这两个文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&#x27;s/# zh_CN.UTF-8 UTF-8/zh_CN.UTF-8 UTF-8/&#x27;</span> /etc/locale.gen</span><br><span class="line"></span><br><span class="line"><span class="built_in">cat</span> &gt; /etc/default/locale &lt;&lt;-<span class="string">EOF </span></span><br><span class="line"><span class="string">LANG=&quot;zh_CN.UTF-8&quot;</span></span><br><span class="line"><span class="string">LANGUAGE=&quot;zh_CN:zh&quot;</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure><p>随后让系统刷新一下语言的显示</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">locale-gen</span><br><span class="line"><span class="built_in">source</span> /etc/default/locale</span><br></pre></td></tr></table></figure><p>这时候 “apt”  一下就会发现可以显示中文了，当然我们是为了桌面环境，而不是为了中文，所以接下来安装一些软件</p><ol><li>xfce4 </li><li>xfce4-terminal Xfce 版本的终端</li><li>tightvncserver Vnc 服务，远程用的</li><li>tigervnc-standalone-server  鼠标指针美化用到的</li><li>xfe 一些零碎的软件如文件管理，解压缩的软件<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">apt install xfce4 xfce4-terminal xfe tightvncserver tigervnc-standalone-server </span><br><span class="line"></span><br><span class="line">apt clean <span class="comment">#安装完成清理下载的软件包，可以运行一下节省一点空间</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#我安装了 tigervnc-standalone-server 软件后就不能打开 vnc 服务，所以这一个软件我没安装</span></span><br></pre></td></tr></table></figure></li></ol><p>创建一个 tigervncserver 软件使用的目录，里面存放连接密码和开启的桌面这样 vnc 软件才能知道你要启动的是什么桌面</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p ~/.vnc &amp;&amp; <span class="built_in">cd</span> ~/.vnc</span><br><span class="line"></span><br><span class="line"><span class="built_in">cat</span> &gt;xstartup&lt;&lt;-<span class="string">&#x27;EndOfFile&#x27;</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line">xrdb <span class="variable">$HOME</span>/.Xresources</span><br><span class="line">startxfce4 &amp;</span><br><span class="line">EndOfFile</span><br><span class="line"><span class="built_in">chmod</span> +x ./xstartup</span><br></pre></td></tr></table></figure><p>创建一个脚本告诉 tigerserver 软件以什么用户去启动桌面，分辨率，端口，桌面的名字，以及用户家目录</p><ol><li>export USER&#x3D;「用户名称」</li><li>export HOME&#x3D;「用户的家&#x2F;专属目录&#x2F;~」</li><li>vncserver -geometry 分辨率 -depth 色彩度 -name 桌面的名称 :端口号<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/bin</span><br><span class="line"><span class="built_in">cat</span> &gt;startvnc&lt;&lt;-<span class="string">&#x27;EndOfFile&#x27;</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line">stopvnc</span><br><span class="line"><span class="built_in">export</span> USER=root</span><br><span class="line"><span class="built_in">export</span> HOME=/root</span><br><span class="line">vncserver -geometry 720x1500 -depth 24 -name remote-desktop :5901</span><br><span class="line">EndOfFile</span><br></pre></td></tr></table></figure></li></ol><p>有开始当然少不了结束 还需要再编辑一个结束桌面的脚本叫做 stopvnc<br>1-2 上面解释过，<br>3. vncserver -kill :1 结束端口 1 的桌面进程<br>4. rm -rf &#x2F;tmo&#x2F;.X1-lock 删除 X 显示进程锁，如果不删下一次启动识别文件存在就不会开启(startvnc 时会先执行 stopvnc 删除上一次的信息)<br>5. pkill Xtightvnc 结束软件<br>6. chmod +x startvnc stopvnc 给这两个脚本赋予执行的权限（+x 表示可执行 ）</p><h3 id="数字权限的认识"><a href="#数字权限的认识" class="headerlink" title="数字权限的认识"></a>数字权限的认识</h3><p>[0 0 0 表示 读 0 写 0 执行 0]<br>[7 0 0 表示 拥有者 可读 可写 可执行 ]<br>[7 7 0 表示 拥有者 用户组 都可以 读 写 执行]<br>[7 7 7 表示 所有人 都可以 读 写 执行]<br>第一个数字表示拥有者，第二个表示所属于的用户组，第三个是其它<br>[4 是读 4+2&#x3D;6 是可读写 4+2+1&#x3D;7 可读可写可执行 ]<br>[7 4 0 拥有者可 读 写 执行 用户组只能读]<br>[4 6 7 拥有者只能 读 用户组可以读 写 其它人可以读 写  执行]</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &gt;stopvnc&lt;&lt;-<span class="string">&#x27;EndOfFile&#x27;</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="built_in">export</span> USER=root</span><br><span class="line"><span class="built_in">export</span> HOME=/root</span><br><span class="line">vncserver -<span class="built_in">kill</span> :1</span><br><span class="line"><span class="built_in">rm</span> -rf /tmp/.X1-lock</span><br><span class="line"><span class="built_in">rm</span> -rf /tmp/.X11-unix/X1</span><br><span class="line">pkill Xtightvnc</span><br><span class="line">EndOfFile</span><br><span class="line"><span class="built_in">chmod</span> +x startvnc stopvnc</span><br></pre></td></tr></table></figure><p>添加环境变量</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;export DISPLAY=&quot;</span>:1<span class="string">&quot;&quot;</span> &gt;&gt; /etc/profile</span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure><p>输入 startvnc 开始运行 stopvnc 结束运行</p><p>如果这时候你兴致勃勃的用vnc连接 ip:端口 是连接不上的，因为服务器的防火墙端口没有开放5901，所以得打开端口</p><h2 id="端口开放"><a href="#端口开放" class="headerlink" title="端口开放"></a>端口开放</h2><p>安装iptables，一般情况下，ubuntu安装好的时候，iptables会被安装上，如果没有的话那就安装上吧</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install iptables</span><br></pre></td></tr></table></figure><p>添加规则</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -I INPUT -p tcp --dport 5901 -j ACCEPT</span><br></pre></td></tr></table></figure><p>保存规则</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables-save</span><br></pre></td></tr></table></figure><p>  们就完成了开放指定的端口，但是如果此时服务器重启，上述规则就没有了，所以我们需要对规则进行一下持续化操作，持续化规则<br>  这里我们需要在安装一下工具来帮我们实现，这里我们使用 iptables-persistent</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install iptables-persistent</span><br></pre></td></tr></table></figure><p>持久化规则</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">netfilter-persistent save</span><br><span class="line">netfilter-persistent reload</span><br></pre></td></tr></table></figure><p>完成上面的命令就可以永久打开我们需要的端口了<br>现在我们在vnc软件上就可以连接上桌面了<br>下面附上我安装好的桌面环境<br><img src="https://s2.loli.net/2022/03/27/xujJXZ9LsQFroOy.jpg"></p><p><img src="https://s2.loli.net/2022/03/27/su2XjO34wZWTPqb.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> 免费云服务器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 云服务器 </tag>
            
            <tag> 免费云服务器 </tag>
            
            <tag> 阿贝云 </tag>
            
            <tag> Xfce4 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Termux挂网易云脚本</title>
      <link href="/2022/03/13/wyyyy/"/>
      <url>/2022/03/13/wyyyy/</url>
      
        <content type="html"><![CDATA[<p>Termux挂网易云脚本</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p><a href="https://f-droid.org/zh_Hans/packages/com.termux/">点这进F-Deoid下载Termux</a><br>安装好后打开Termux软件<br>执行下面指令更新源，安装python，安装git</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt update -y</span><br><span class="line">apt install -y python openssh git</span><br></pre></td></tr></table></figure><p>拉取库到本地</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/chen310/NeteaseCloudMusicTasks.git</span><br></pre></td></tr></table></figure><p>切换到项目目录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> NeteaseCloudMusicTasks</span><br></pre></td></tr></table></figure><p>然后安装依赖</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure><h2 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h2><p>首先将 config.example.json 文件复制为 config.json 文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> config.example.json config.json</span><br></pre></td></tr></table></figure><p>然后对配置文件 config.json 进行修改。<br>运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 index.py</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 网易云音乐 </tag>
            
            <tag> 签到积分 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mtk手机深度刷机教程</title>
      <link href="/2022/01/29/mtkshengshua/"/>
      <url>/2022/01/29/mtkshengshua/</url>
      
        <content type="html"><![CDATA[<p><strong>这个教程只支持MTK（联发科）处理器的机子<br>如果是高通骁龙的，可以不用看了</strong></p><h2 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h2><p>今天下午想给手上的Redmi Note10 Pro搞个Magisk_root 所以想给手机降级。进Fastboot用的官方Miflash刷机不到两分钟出现红色错误，手机也随之嗝屁了，顿时间整个人都不好了，逐一测试了Recovery和Fastboot模式都没有反应，那感觉五雷轰顶啊！在我极度惊恐之下，尝试寻找各种办法后，似乎找到了救命稻草 SmartPhone-FlashTool 但是过程并不顺利，电脑上虽然有Mtk的com5端口显示，但很快就会消失不见，不断重复这个类似插拔的过程，真的非常让人后怕。</p><p>于是经过我的不懈努力才知道原来端口不稳定是正常的，需要借助MTK Auth Bypass Tool软件才能稳定端口连接，再进行深度刷机。</p><h2 id="详解"><a href="#详解" class="headerlink" title="详解"></a>详解</h2><p>不同处理器有不同的深度刷机模式<br>联发科：MTK_USB-Port_V1633（COM5)</p><p>高通骁龙：Qualcomm_HS-USB_QDloaderbl_9008</p><p>海思麒麟：HUAWEI_USB_1.0(COM3)<br>如果你手机连接电脑出现以上端口，则说明手机当前处在深刷模式。</p><div class="note success no-icon flat"><p>如果你之前没有接触过这种刷机方式，那一定要仔细看看。</p><p>★如何免拆机按键进深刷：依次尝试长按三键、长按电源键和音量减、长按电源键和音量加直到出端口。手机任意状态都可以直接按。其实进深刷的方法都差不了多少。</p><p>★怎么去判断是否进深刷以及能否刷机：有人刷机总是喜欢盯着手机看，这里就不必了，我们主要是看电脑设备管理器显示的端口来判断手机的状态，手机一直是黑屏的，什么也不会显示。电脑提前打开设备管理器，手机按照上述方法进深刷，注意听电脑提示音以及观察设备管理器的反应。如果电脑有提示音，设备管理器在端口COM和LPT一项里刷新出“MediaTek USB Port”端口，则深刷模式连接正常，可以刷机。如果电脑有提示音但没有“MediaTek USB Port”端口，而是出现未知设备之类的，说明你电脑需要补MTK驱动(链接下面给)。如果有提示音，但消息提示无法识别的USB设备，你可能需要重新进深刷或者更换数据线。如果电脑压根没反应，你需要检</p></div><ol><li><p>首先准备一根原厂的充电线（至少需要保证稳定）</p></li><li><p>一台电脑（最好是W10系统，我就是在这个环境实践的）</p></li><li><p>下载好救砖设备的线刷包（卡刷包不能用哦）还有MiflashPro，MTK Auth Bypass Tool，LibUSB驱动，MTK驱动</p></li></ol><a class="btn-beautify blue larger" href="https://xiaomirom.com/"   title="小米官方Rom下载"><i class="far fa-hand-point-right"></i><span>小米官方Rom下载</span></a><p>** 请务必下载和当前手机系统版本相同的线刷包，小版本没关系，至少安卓版本要相同，否则可能不开机和丢失IMEI！对于因为降级而黑砖的，刷降级之前的版本即可开机。 **</p><a class="btn-beautify blue larger" href="https://kamiui.ml/E52shuaji/03-工具软件/MiFlash/MiFlash_Pro_v6.3.318.42_EN_Setup.zip"   title="Miflashpro刷机工具下载"><i class="far fa-hand-point-right"></i><span>Miflashpro刷机工具下载</span></a><p>MiflashPro版本过低可能导致刷机失败，请升级到最新版。如果文中链接失效，可以随便百度一个然后升级到最新版也是一样的。</p><a class="btn-beautify blue larger" href="https://yiyuwen.lanzouo.com/b00pdmwra"   title="LibUSB蓝奏云下载密码1122"><i class="far fa-hand-point-right"></i><span>LibUSB蓝奏云下载密码1122</span></a><p>安装LibUSB驱动，一路Next</p><a class="btn-beautify blue larger" href="https://yiyuwen.lanzouo.com/i3iSk001s9la"   title="MTK识别驱动下载"><i class="far fa-hand-point-right"></i><span>MTK识别驱动下载</span></a><p>MTK驱动（vivo的驱动推荐装一下，有的电脑没有这个驱动）</p><p>完成上面所以后：<br>先打开设备管理器，点开端口，然后手机连接电脑，注意看设备管理器端口，如果有闪过MTK端口就可以，说明可以正常连接<br><img src="https://gitee.com/yits/mypic/raw/master/2022/02/14/980.jpg" alt="设备管理器"></p><p>如果没有，检查驱动，数据线，手机，电脑插口，系统等等…..</p><p>打开MiFlashPro软件</p><p><img src="https://gitee.com/yits/mypic/raw/master/2022/02/14/Screenshot_20220214-010030_1.png" alt="miflashpro"></p><p>点击上方SP Flash</p><p><img src="https://gitee.com/yits/mypic/raw/master/2022/02/14/Scr098.png" alt="图片"></p><p>打开软件后点击左上角的Options里勾掉“Check DA”<br>回到桌面把手机线刷包解压到自己喜欢的目录，然后记住文件位置</p><p>点击第二个choose，在你解压后的的线刷包里找线刷包的images文件夹里，选择MTxxxx_Android_scatter.txt</p><p><img src="https://gitee.com/yits/mypic/raw/master/2022/02/14/Screenshot_201.png" alt="图片"></p><p>选好后就是这个样子，第一个choose点开一般默认会跳到所在目录，正常情况选择下图这个即可，如果不行就去刷机包目录下面找DA开头bin结尾的文件</p><p><img src="https://gitee.com/yits/mypic/raw/master/2022/02/14/Screenshot_2022029.png" alt="图片"></p><p>接着打开MTK Bypass</p><p><img src="https://gitee.com/yits/mypic/raw/master/2022/02/14/7478.png" alt="图片"></p><p>右上方选择一下你手机的处理器，果里面没有你手机的处理器，可以选择AUTO，然后点击BYPASS。杀软可能拦截，请放行。如果中间出现了红色报错，就重新点击BYPASS，再进一次重试。直到没有报错。我试了好几次Note10Pro一直都是错误，端口也一如既往的跳动，可能真的不支持。</p><p>于是我用了其它的软件“MTK Auth Bypass ToolV20”</p><p><img src="https://gitee.com/yits/mypic/raw/master/2022/02/14/77455888.png" alt="图片"></p><a class="btn-beautify blue larger" href="https://yiyuwen.lanzouo.com/idxiC0038u9g"   title="MTK_Auth_Bypass_ToolV20下载"><i class="far fa-hand-point-right"></i><span>MTK_Auth_Bypass_ToolV20下载</span></a><p>打开MTKAuthBypassTool软件，点左下角Disable Auth 手机按住音量上下键插入数据线，如果设备管理器有mtk端口并且不会一闪而过表示成功了</p><p>打开后台的SP flash tool软件点击Download，先是一条红色进度条DA验证，后面为黄色刷入各个分区直到最后一个绿色钩子就代表深刷成功了。</p><p>长安电源键查看是否可以开机，如果不行就去把电池排线扣了，再按上长按电源键开机。</p><p>深刷过后的机子，Bootloader都是上锁了的，需要重新解锁。</p><p><img src="https://gitee.com/yits/mypic/raw/master/2022/02/15/IMG_2022-02-13-21-16-18-458.jpg" alt="图片"></p><p><img src="https://gitee.com/yits/mypic/raw/master/2022/02/15/wx_camera_1644758251569.jpg" alt="图片"></p><p>最后成功的让手机开机了，耗费力三四个小时，让一个没有任何反应的手机变得栩栩如生。</p>]]></content>
      
      
      <categories>
          
          <category> 救砖 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 刷机 </tag>
            
            <tag> mtk </tag>
            
            <tag> 救砖 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rclone+OneDrive+Aria2</title>
      <link href="/2022/01/14/aria2/"/>
      <url>/2022/01/14/aria2/</url>
      
        <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p><a href="https://baike.baidu.com/item/OneDrive">Microsoft OneDrive</a> 就是微软的云盘，一般都知道这玩意<br><a href="http://aria2.baisheng999.com/">Aria2</a> 这个知道的人稍微偏少，主要是命令行的一个下载工具，和<a href="https://baike.baidu.com/item/wget/">Wget</a>类似的工具，但又比wget下载协议多比如种子磁力链接<br><a href="https://rclone.org/">Rclone</a>知道这个的就真的少之又少了，百度百科都没收录，官网介绍如下</p><p>Rclone is a command line program to manage files on cloud storage. It is a feature rich alternative to cloud vendors’ web storage interfaces. Over 40 cloud storage products support rclone including S3 object stores, business &amp; consumer file storage services, as well as standard transfer protocols.</p><p>Rclone是一个命令行程序来管理云存储上的文件。这是一个功能丰富的选择云供应商的网络存储接口。超过40岁的云存储产品支持rclone包括S3对象商店,商业和消费者的文件存储服务,以及标准的传输协议。</p><p>讲通俗点就是把网盘挂载到本地xx文件夹里便于操作</p><h3 id="Aria2"><a href="#Aria2" class="headerlink" title="Aria2"></a>Aria2</h3><p>本文使用Termux + Alpine环境进行实战，与其他linux发行版相差不大</p><p>在安装配置好的alpine os内安装Aria2并没有什么难度，无非就是使用apk包管理进行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apk add aria2</span><br></pre></td></tr></table></figure><p>然后就可以通过下面这段进行下载文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aria2c &#123;url&#125; </span><br></pre></td></tr></table></figure><p>不过这样也只能下载http协议的文件，也只能通过命令行执行，没有一个漂亮的UI，而且功能不算强大我不要，所以接下来要创建Aria2的配置和UI<br>首先进入 <code>/etc</code> 文件夹  <code>ls</code> 查看是否有 <code>aria2</code> 文件夹，没用就创建</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /etc/aria2</span><br></pre></td></tr></table></figure><p>然后创建</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> /etc/aria2/aria2.conf <span class="comment">#配置文件</span></span><br><span class="line"><span class="built_in">touch</span> /etc/aria2/aria2.session <span class="comment">#下载记录文件</span></span><br><span class="line"><span class="built_in">touch</span> /etc/aria2/dht.dat <span class="comment">#ipv4网络节点数据</span></span><br><span class="line"><span class="built_in">touch</span> /etc/aria2/dht6.dat <span class="comment">#ipv6</span></span><br><span class="line">```` </span><br><span class="line">把下面配置写进`/etc/aria2/aria2.conf `里</span><br><span class="line">```bash</span><br><span class="line"><span class="comment"># 设置的RPC授权令牌, 取代 --rpc-user 和 --rpc-passwd 选项</span></span><br><span class="line"><span class="comment"># token可以自己随意设置</span></span><br><span class="line">rpc-secret=删掉文字，输入一串代表密码的字符</span><br><span class="line"><span class="comment"># 下面是ssl证书，可以先不管</span></span><br><span class="line"><span class="comment">#rpc-private-key=/etc/aria2/server.key</span></span><br><span class="line"><span class="comment">#rpc-certificate=/etc/aria2/server.crt</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#允许rpc</span></span><br><span class="line">enable-rpc=<span class="literal">true</span></span><br><span class="line"><span class="comment">#允许所有来源, web界面跨域权限需要</span></span><br><span class="line">rpc-allow-origin-all=<span class="literal">true</span></span><br><span class="line"><span class="comment">#允许外部访问，false的话只监听本地端口</span></span><br><span class="line">rpc-listen-all=<span class="literal">true</span></span><br><span class="line"><span class="comment">#RPC端口, 仅当默认端口被占用时修改</span></span><br><span class="line">rpc-listen-port=6800</span><br><span class="line"></span><br><span class="line"><span class="comment">#文件保存路径, 默认为当前启动位置</span></span><br><span class="line"><span class="built_in">dir</span>=/root/downloads/</span><br><span class="line"><span class="comment">#从会话文件中读取下载任务</span></span><br><span class="line">input-file=/etc/aria2/aria2.session</span><br><span class="line"><span class="comment">#在Aria2退出时保存`错误/未完成`的下载任务到会话文件</span></span><br><span class="line">save-session=/etc/aria2/aria2.session</span><br><span class="line"><span class="comment">#定时保存会话, 0为退出时才保存, 需1.16.1以上版本, 默认:0</span></span><br><span class="line"><span class="comment">#save-session-interval=60</span></span><br><span class="line">force-save=<span class="literal">true</span></span><br><span class="line"><span class="comment">#log=/aria2log</span></span><br><span class="line"><span class="comment">#log-level=error</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#最大同时下载数(任务数), 路由建议值: 3</span></span><br><span class="line">max-concurrent-downloads=5</span><br><span class="line"><span class="comment">#断点续传</span></span><br><span class="line"><span class="built_in">continue</span>=<span class="literal">true</span></span><br><span class="line"><span class="comment">#同服务器连接数</span></span><br><span class="line">max-connection-per-server=5</span><br><span class="line"><span class="comment">#最小文件分片大小, 下载线程数上限取决于能分出多少片, 对于小文件重要</span></span><br><span class="line">min-split-size=10M</span><br><span class="line"><span class="comment">#单文件最大线程数, 路由建议值: 5</span></span><br><span class="line"><span class="built_in">split</span>=10</span><br><span class="line"><span class="comment">#下载速度限制</span></span><br><span class="line">max-overall-download-limit=0</span><br><span class="line"><span class="comment">#单文件速度限制</span></span><br><span class="line">max-download-limit=0</span><br><span class="line"><span class="comment">#上传速度限制</span></span><br><span class="line">max-overall-upload-limit=0</span><br><span class="line"><span class="comment">#单文件速度限制</span></span><br><span class="line">max-upload-limit=0</span><br><span class="line"><span class="comment">#断开速度过慢的连接</span></span><br><span class="line"><span class="comment">#lowest-speed-limit=0</span></span><br><span class="line"><span class="comment">#文件缓存, 使用内置的文件缓存, 如果你不相信Linux内核文件缓存和磁盘内置缓存时使用, 需要1.16及以上版本</span></span><br><span class="line"><span class="comment">#disk-cache=0</span></span><br><span class="line"><span class="comment">#另一种Linux文件缓存方式, 使用前确保您使用的内核支持此选项, 需要1.15及以上版本(?)</span></span><br><span class="line"><span class="comment">#enable-mmap=true</span></span><br><span class="line"><span class="comment">#文件预分配, 能有效降低文件碎片, 提高磁盘性能. 缺点是预分配时间较长</span></span><br><span class="line"><span class="comment">#NTFS建议使用falloc, EXT3/4建议trunc, MAC 下需要注释此项所需时间 </span></span><br><span class="line"><span class="comment">#none &lt; falloc ? trunc &lt;&lt; prealloc, falloc和trunc需要文件系统和内核支持</span></span><br><span class="line">file-allocation=prealloc</span><br><span class="line"><span class="comment"># DHT（IPv4）文件</span></span><br><span class="line">dht-file-path=/etc/aria2/dht.dat</span><br><span class="line"><span class="comment"># # DHT（IPv6）文件</span></span><br><span class="line">dht-file-path6=/etc/aria2/dht6.dat</span><br><span class="line"><span class="comment"># # 打开DHT功能, PT需要禁用, 默认:true</span></span><br><span class="line"><span class="comment"># enable-dht=true</span></span><br><span class="line"><span class="comment"># # 打开IPv6 DHT功能, PT需要禁用</span></span><br><span class="line">enable-dht6=<span class="literal">true</span></span><br><span class="line"><span class="comment"># # DHT网络监听端口, 默认:6881-6999</span></span><br><span class="line">dht-listen-port=6881-6999</span><br><span class="line"><span class="comment"># # 本地节点查找, PT需要禁用, 默认:false</span></span><br><span class="line">bt-enable-lpd=<span class="literal">true</span></span><br><span class="line"><span class="comment"># # 种子交换, PT需要禁用, 默认:true</span></span><br><span class="line">enable-peer-exchange=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#种子服务器地址，announce后面有个,号隔开</span></span><br><span class="line">bt-tracker=udp://open.tracker.cl:1337/announce,udp://tracker.opentrackr.org:1337/announce,http://tracker.opentrackr.org:1337/announce,udp://9.rarbg.com:2810/announce,udp://tracker.openbittorrent.com:6969/announce</span><br></pre></td></tr></table></figure><p><code>bt-tracker=</code>有时候需要更新地址，可以在<a href="https://github.com/ngosang/trackerslist/blob/master/trackers_all.txt">trackerslist</a>里复制，划分好加入aria2.conf里。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">aria2c --conf-path=/etc/aria2/aria2.conf -D</span><br><span class="line"><span class="comment">#后台启动服务</span></span><br></pre></td></tr></table></figure><p>官方的AriaNg <a href="http://ariang.mayswind.net/latest/#!/downloading">Dome</a><br>我放Gitee的 <a href="http://yits.gitee.io/aria">Dome</a></p><p>你也可以自己搭建本地的用<a href="http://ariang.mayswind.net/zh_Hans/">Ariang</a>下载Web文件，解压Web根目录下面，启动网页服务后打开浏览器，这里不会可以看我其他文章。</p><p>在左边 <code>侧边栏&gt;AriaNg 设置&gt;Aria PRC 密钥</code> 输入上面自己设置的字符串，刷新网页就可以看到，aria2状态是已连接了，有时间的话你可以尝试下载一些比较热门的磁力链接文件预热一下dht.dat文件，这里推荐一个好用的磁力搜索引擎<a href="https://search.btfox.pw/">磁力狐</a>一般电影什么的都可以找到资源，但是一个视频就好几个G存自己设备上好像太浪费了，一般看完就得删了，下次看还得找磁力继续下载太麻烦。</p><h3 id="Microsoft-OneDrive"><a href="#Microsoft-OneDrive" class="headerlink" title="Microsoft OneDrive"></a>Microsoft OneDrive</h3><p>上网看了一下Microsoft OneDrive可以便宜薅到5T空间的账号四舍五入对于不要钱。这里就不放教程了，可以淘宝买，也可以另寻它路，个人账号的话只有5G的免费空间。注册好后开始安装和配置Rclone</p><h3 id="Rclone-需要Root权限才能挂载"><a href="#Rclone-需要Root权限才能挂载" class="headerlink" title="Rclone 需要Root权限才能挂载"></a>Rclone 需要Root权限才能挂载</h3><p>我都是在Termux安装和挂载云盘到rootfs里的mnt文件夹里才启动proot容器，在容器里好像挂载不了。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br></pre></td><td class="code"><pre><span class="line">pkg install rclone </span><br><span class="line">tsu</span><br><span class="line">rclone config</span><br><span class="line"></span><br><span class="line">Current remotes:</span><br><span class="line">e) Edit existing remote</span><br><span class="line">n) New remote</span><br><span class="line">d) Delete remote</span><br><span class="line">r) Rename remote</span><br><span class="line">c) Copy remote</span><br><span class="line">s) Set configuration password</span><br><span class="line">q) Quit config</span><br><span class="line">e/n/d/r/c/s/q&gt; n                          //第二步输入n创建新的配置</span><br><span class="line">name&gt; 挂载网盘的名称（任意写，中间不能有空格）</span><br><span class="line"></span><br><span class="line">Option Storage.</span><br><span class="line">Type of storage to configure.</span><br><span class="line">Enter a string value. Press Enter <span class="keyword">for</span> the default (<span class="string">&quot;&quot;</span>).</span><br><span class="line">Choose a number from below, or <span class="built_in">type</span> <span class="keyword">in</span> your own value.</span><br><span class="line"> 1 / 1Fichier</span><br><span class="line">   \ <span class="string">&quot;fichier&quot;</span></span><br><span class="line"> 2 / Alias <span class="keyword">for</span> an existing remote</span><br><span class="line">   \ <span class="string">&quot;alias&quot;</span></span><br><span class="line"> 3 / Amazon Drive</span><br><span class="line">   \ <span class="string">&quot;amazon cloud drive&quot;</span></span><br><span class="line"> 4 / Amazon S3 Compliant Storage Providers including AWS, Alibaba, Ceph, Digital Ocean, Dreamhost, IBM COS, Minio, SeaweedFS, and Tencent COS</span><br><span class="line">   \ <span class="string">&quot;s3&quot;</span></span><br><span class="line"> 5 / Backblaze B2</span><br><span class="line">   \ <span class="string">&quot;b2&quot;</span></span><br><span class="line"> 6 / Better checksums <span class="keyword">for</span> other remotes</span><br><span class="line">   \ <span class="string">&quot;hasher&quot;</span></span><br><span class="line"> 7 / Box</span><br><span class="line">   \ <span class="string">&quot;box&quot;</span></span><br><span class="line"> 8 / Cache a remote</span><br><span class="line">   \ <span class="string">&quot;cache&quot;</span></span><br><span class="line"> 9 / Citrix Sharefile</span><br><span class="line">   \ <span class="string">&quot;sharefile&quot;</span></span><br><span class="line">10 / Compress a remote</span><br><span class="line">   \ <span class="string">&quot;compress&quot;</span></span><br><span class="line">11 / Dropbox</span><br><span class="line">   \ <span class="string">&quot;dropbox&quot;</span></span><br><span class="line">12 / Encrypt/Decrypt a remote</span><br><span class="line">   \ <span class="string">&quot;crypt&quot;</span></span><br><span class="line">13 / Enterprise File Fabric</span><br><span class="line">   \ <span class="string">&quot;filefabric&quot;</span></span><br><span class="line">14 / FTP Connection</span><br><span class="line">   \ <span class="string">&quot;ftp&quot;</span></span><br><span class="line">15 / Google Cloud Storage (this is not Google Drive)</span><br><span class="line">   \ <span class="string">&quot;google cloud storage&quot;</span></span><br><span class="line">16 / Google Drive</span><br><span class="line">   \ <span class="string">&quot;drive&quot;</span></span><br><span class="line">17 / Google Photos</span><br><span class="line">   \ <span class="string">&quot;google photos&quot;</span></span><br><span class="line">18 / Hadoop distributed file system</span><br><span class="line">   \ <span class="string">&quot;hdfs&quot;</span></span><br><span class="line">19 / Hubic</span><br><span class="line">   \ <span class="string">&quot;hubic&quot;</span></span><br><span class="line">20 / In memory object storage system.</span><br><span class="line">   \ <span class="string">&quot;memory&quot;</span></span><br><span class="line">21 / Jottacloud</span><br><span class="line">   \ <span class="string">&quot;jottacloud&quot;</span></span><br><span class="line">22 / Koofr</span><br><span class="line">   \ <span class="string">&quot;koofr&quot;</span></span><br><span class="line">23 / Local Disk</span><br><span class="line">   \ <span class="string">&quot;local&quot;</span></span><br><span class="line">24 / Mail.ru Cloud</span><br><span class="line">   \ <span class="string">&quot;mailru&quot;</span></span><br><span class="line">25 / Mega</span><br><span class="line">   \ <span class="string">&quot;mega&quot;</span></span><br><span class="line">26 / Microsoft Azure Blob Storage</span><br><span class="line">   \ <span class="string">&quot;azureblob&quot;</span></span><br><span class="line">27 / Microsoft OneDrive</span><br><span class="line">   \ <span class="string">&quot;onedrive&quot;</span></span><br><span class="line">28 / OpenDrive</span><br><span class="line">   \ <span class="string">&quot;opendrive&quot;</span></span><br><span class="line">29 / OpenStack Swift (Rackspace Cloud Files, Memset Memstore, OVH)</span><br><span class="line">   \ <span class="string">&quot;swift&quot;</span></span><br><span class="line">30 / Pcloud</span><br><span class="line">   \ <span class="string">&quot;pcloud&quot;</span></span><br><span class="line">31 / Put.io</span><br><span class="line">   \ <span class="string">&quot;putio&quot;</span></span><br><span class="line">32 / QingCloud Object Storage</span><br><span class="line">   \ <span class="string">&quot;qingstor&quot;</span></span><br><span class="line">33 / SSH/SFTP Connection</span><br><span class="line">   \ <span class="string">&quot;sftp&quot;</span></span><br><span class="line">34 / Sia Decentralized Cloud</span><br><span class="line">   \ <span class="string">&quot;sia&quot;</span></span><br><span class="line">35 / Sugarsync</span><br><span class="line">   \ <span class="string">&quot;sugarsync&quot;</span></span><br><span class="line">36 / Tardigrade Decentralized Cloud Storage</span><br><span class="line">   \ <span class="string">&quot;tardigrade&quot;</span></span><br><span class="line">37 / Transparently chunk/split large files</span><br><span class="line">   \ <span class="string">&quot;chunker&quot;</span></span><br><span class="line">38 / Union merges the contents of several upstream fs</span><br><span class="line">   \ <span class="string">&quot;union&quot;</span></span><br><span class="line">39 / Uptobox</span><br><span class="line">   \ <span class="string">&quot;uptobox&quot;</span></span><br><span class="line">40 / Webdav</span><br><span class="line">   \ <span class="string">&quot;webdav&quot;</span></span><br><span class="line">41 / Yandex Disk</span><br><span class="line">   \ <span class="string">&quot;yandex&quot;</span></span><br><span class="line">42 / Zoho</span><br><span class="line">   \ <span class="string">&quot;zoho&quot;</span></span><br><span class="line">43 / http Connection</span><br><span class="line">   \ <span class="string">&quot;http&quot;</span></span><br><span class="line">44 / premiumize.me</span><br><span class="line">   \ <span class="string">&quot;premiumizeme&quot;</span></span><br><span class="line">45 / seafile</span><br><span class="line">   \ <span class="string">&quot;seafile&quot;</span></span><br><span class="line">Storage&gt;27</span><br><span class="line"><span class="comment">#这里选27Microsoft OneDrive 回车</span></span><br><span class="line"></span><br><span class="line">Option client_id.</span><br><span class="line">OAuth Client Id.</span><br><span class="line">Leave blank normally.</span><br><span class="line">Enter a string value. Press Enter <span class="keyword">for</span> the default (<span class="string">&quot;&quot;</span>).</span><br><span class="line">client_id&gt;</span><br><span class="line"><span class="comment">#这里不填，直接回车</span></span><br><span class="line"></span><br><span class="line">OAuth Client Secret.</span><br><span class="line">Leave blank normally.</span><br><span class="line">Enter a string value. Press Enter <span class="keyword">for</span> the default (<span class="string">&quot;&quot;</span>).</span><br><span class="line">client_secret&gt;</span><br><span class="line"><span class="comment">#不填，继续回车</span></span><br><span class="line"></span><br><span class="line">Option region.</span><br><span class="line">Choose national cloud region <span class="keyword">for</span> OneDrive.</span><br><span class="line">Enter a string value. Press Enter <span class="keyword">for</span> the default (<span class="string">&quot;global&quot;</span>).</span><br><span class="line">Choose a number from below, or <span class="built_in">type</span> <span class="keyword">in</span> your own value.</span><br><span class="line"> 1 / Microsoft Cloud Global</span><br><span class="line">   \ <span class="string">&quot;global&quot;</span></span><br><span class="line"> 2 / Microsoft Cloud <span class="keyword">for</span> US Government</span><br><span class="line">   \ <span class="string">&quot;us&quot;</span></span><br><span class="line"> 3 / Microsoft Cloud Germany</span><br><span class="line">   \ <span class="string">&quot;de&quot;</span></span><br><span class="line"> 4 / Azure and Office 365 operated by 21Vianet <span class="keyword">in</span> China</span><br><span class="line">   \ <span class="string">&quot;cn&quot;</span></span><br><span class="line">region&gt;1</span><br><span class="line"><span class="comment">#选序号1 global全球</span></span><br><span class="line"></span><br><span class="line">Edit advanced config?</span><br><span class="line">y) Yes</span><br><span class="line">n) No (default)</span><br><span class="line">y/n&gt;n</span><br><span class="line"><span class="comment">#不进行高级配置，选择no默认配置即可</span></span><br><span class="line"></span><br><span class="line">Use auto config?</span><br><span class="line"> * Say Y <span class="keyword">if</span> not sure</span><br><span class="line"> * Say N <span class="keyword">if</span> you are working on a remote or headless machine</span><br><span class="line"></span><br><span class="line">y) Yes (default)</span><br><span class="line">n) No</span><br><span class="line">y/n&gt;y</span><br><span class="line"><span class="comment">#继续默认配置</span></span><br><span class="line"></span><br><span class="line">2022/01/14 05:01:39 NOTICE: If your browser doesn<span class="string">&#x27;t open automatically go to the following link: http://127.0.0.1:53682/auth?state=rI*wUG***1J*nGr*L**S*w</span></span><br><span class="line"><span class="string">2022/01/14 05:01:39 NOTICE: Log in and authorize rclone for access</span></span><br><span class="line"><span class="string">2022/01/14 05:01:39 NOTICE: Waiting for code...</span></span><br><span class="line"><span class="string">2022/01/14 05:01:44 NOTICE: Got code</span></span><br><span class="line"><span class="string">#到这里会跳转到浏览器，或者手动复制链接到浏览器登入，登入完成会在浏览器显示</span></span><br><span class="line"><span class="string">#Success!</span></span><br><span class="line"><span class="string">#All done. Please go back to rclone.</span></span><br><span class="line"><span class="string">#再返回终端</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Option config_type.</span></span><br><span class="line"><span class="string">Type of connection</span></span><br><span class="line"><span class="string">Enter a string value. Press Enter for the default (&quot;onedrive&quot;).</span></span><br><span class="line"><span class="string">Choose a number from below, or type in an existing value.</span></span><br><span class="line"><span class="string"> 1 / OneDrive Personal or Business</span></span><br><span class="line"><span class="string">   \ &quot;onedrive&quot;</span></span><br><span class="line"><span class="string"> 2 / Root Sharepoint site</span></span><br><span class="line"><span class="string">   \ &quot;sharepoint&quot;</span></span><br><span class="line"><span class="string">   / Sharepoint site name or URL</span></span><br><span class="line"><span class="string"> 3 | E.g. mysite or https://contoso.sharepoint.com/sites/mysite</span></span><br><span class="line"><span class="string">   \ &quot;url&quot;</span></span><br><span class="line"><span class="string"> 4 / Search for a Sharepoint site</span></span><br><span class="line"><span class="string">   \ &quot;search&quot;</span></span><br><span class="line"><span class="string"> 5 / Type in driveID (advanced)</span></span><br><span class="line"><span class="string">   \ &quot;driveid&quot;</span></span><br><span class="line"><span class="string"> 6 / Type in SiteID (advanced)</span></span><br><span class="line"><span class="string">   \ &quot;siteid&quot;</span></span><br><span class="line"><span class="string">   / Sharepoint server-relative path (advanced)</span></span><br><span class="line"><span class="string"> 7 | E.g. /teams/hr</span></span><br><span class="line"><span class="string">   \ &quot;path&quot;</span></span><br><span class="line"><span class="string">config_type&gt;1</span></span><br><span class="line"><span class="string">#选择序号1</span></span><br><span class="line"><span class="string">Drive OK?</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Found drive &quot;root&quot; of type &quot;business&quot;</span></span><br><span class="line"><span class="string">URL: https://ssxx-my.sharepoint.com/personal/yist_od_yam_ink/Documents</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">y) Yes (default)</span></span><br><span class="line"><span class="string">n) No</span></span><br><span class="line"><span class="string">y/n&gt;y</span></span><br><span class="line"><span class="string">#y 默认</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">--------------------</span></span><br><span class="line"><span class="string">[1]</span></span><br><span class="line"><span class="string">type = onedrive</span></span><br><span class="line"><span class="string">token = &#123;&quot;access_token&quot;:&quot;*************&quot;,&quot;expiry&quot;:&quot;2022-01-14T00:08:19.327666693Z&quot;&#125;</span></span><br><span class="line"><span class="string">drive_id = b!x**qko**ek-h*KRj*5*bV*D*W0mZ9*ZHq*K94i*jT**ZU*z*S*E*TaIDN**G3**a</span></span><br><span class="line"><span class="string">drive_type = business</span></span><br><span class="line"><span class="string">--------------------</span></span><br><span class="line"><span class="string">y) Yes this is OK (default)</span></span><br><span class="line"><span class="string">e) Edit this remote</span></span><br><span class="line"><span class="string">d) Delete this remote</span></span><br><span class="line"><span class="string">y/e/d&gt;</span></span><br><span class="line"><span class="string">#y 默认</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Current remotes:</span></span><br><span class="line"><span class="string">Name                 Type</span></span><br><span class="line"><span class="string">====                 ====</span></span><br><span class="line"><span class="string">Microsoft OneDrive   onedrive</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">e) Edit existing remote</span></span><br><span class="line"><span class="string">n) New remote</span></span><br><span class="line"><span class="string">d) Delete remote</span></span><br><span class="line"><span class="string">r) Rename remote</span></span><br><span class="line"><span class="string">c) Copy remote</span></span><br><span class="line"><span class="string">s) Set configuration password</span></span><br><span class="line"><span class="string">q) Quit config</span></span><br><span class="line"><span class="string">e/n/d/r/c/s/q&gt;q</span></span><br><span class="line"><span class="string">#q 退出</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">rclone mount 这里填写第二步创建名称:/ 这里填写网盘挂载到的文件夹名称 --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 000 </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Fatal error: failed to mount FUSE fs: fusermount: signal: bad system call</span></span><br><span class="line"><span class="string">#提示缺少fusermont依赖</span></span><br></pre></td></tr></table></figure><p>点击下载<a href="../../../data/fusermont">Fusermont</a>，解压，拷贝到<br><code>/data/data/com.termux/files/usr/bin/</code><br>文件夹里</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x /data/data/com.termux/files/usr/bin/fusermont</span><br><span class="line"></span><br><span class="line">rclone mount Microsoft:/ ./mydir/ --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --<span class="built_in">umask</span> 000 </span><br><span class="line"></span><br><span class="line">加上 --daemon 可以后台静默运行</span><br></pre></td></tr></table></figure><p>查看云盘文件是否出现在文件夹里<code>ls ./mydir</code><br> 这篇记录大致完成了，用aria2下载的文件用mv 移动到挂载到文件夹里等待上传就行了。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> aria2 </tag>
            
            <tag> 下载器 </tag>
            
            <tag> 网盘挂载 </tag>
            
            <tag> 原创 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在手机里安装alpine做服务器</title>
      <link href="/2022/01/11/alpine/"/>
      <url>/2022/01/11/alpine/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>之前一直用Debian系列的服务器，因为习惯了apt软件包管理，之前一直想尝试centos实在用不惯yun以至于用了两年的debian，现在服务器空间越来越吃紧了于是想把系统换成<a href="https://www.alpinelinux.org/">alpine</a> </p><h2 id="部署与配置"><a href="#部署与配置" class="headerlink" title="部署与配置"></a>部署与配置</h2><p>先到手机<a href="https://f-droid.org/packages/com.termux/">Termux</a>官网下载软件安装</p><p>打开Termux后替换包源码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&#x27;s@^\(deb.*stable main\)$@deb https://mirrors.tuna.tsinghua.edu.cn/termux/termux-packages-24 stable main@&#x27;</span> <span class="variable">$PREFIX</span>/etc/apt/sources.list</span><br></pre></td></tr></table></figure><p>把软件源换成国内<a href="https://baike.baidu.com/item/%E5%BC%80%E6%BA%90%E9%95%9C%E5%83%8F%E7%AB%99/7395020">清华镜像站</a>这样可以加速安装软件</p><p>无root权限无法使用tsu则不需要安装tsu。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pkg update</span><br><span class="line">pkg install -y tsu proot wget</span><br></pre></td></tr></table></figure><p>有没有root权限其实相差并不大，只不过安卓10开始WEB服务的默认80端口无法开启，要么修改端口为1024以上，要么启用root权限进行服务。</p><p>接下来在home目录里创建一个文件夹用于存放<a href="https://baike.baidu.com/item/%E6%B2%99%E7%9B%92/3769297">沙盒系统</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> rootfs &amp;&amp; <span class="built_in">cd</span> rootfs</span><br><span class="line"></span><br><span class="line"><span class="comment">#这里的root是文件夹名称，随意定义</span></span><br><span class="line"></span><br><span class="line">curl -<span class="comment"># -O https://mirrors.tuna.tsinghua.edu.cn/lxc-images/images/alpine/3.15/arm64/default/20220110_13%3A00/rootfs.tar.xz</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#这边直接用Termux自带的curl缓存rootfs压缩文件</span></span><br><span class="line"><span class="comment">#用浏览器打开mirrors.tuna.tsinghua.edu.cn/lxc-images/images选择其它系统文件</span></span><br><span class="line"></span><br><span class="line">tar xpf rootfs.tar.xz <span class="comment">#解压文件</span></span><br></pre></td></tr></table></figure><p>用 <code>ls</code> 查看有如下文件夹</p><p><code>bin  etc   lib    mnt  proc  run   srv  tmp  var dev  home  media  opt  root  sbin  sys  usr</code><br>接下来就是用脚本引用启动这个沙盒了，都知道除了 <code>proot</code> 还有个 <code>chroot</code> 为什么只用 <code>proot</code> 呢<br>原因其实很简单 <code>chroot</code> 需要用Root权限，很多人手机都没有所以劝退🙄</p><h2 id="编写启动脚本"><a href="#编写启动脚本" class="headerlink" title="编写启动脚本"></a>编写启动脚本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/data/data/com.termux/files/usr/bin/bash </span></span><br><span class="line">user=<span class="string">&quot;root&quot;</span></span><br><span class="line">f=<span class="string">&quot;rootfs&quot;</span></span><br><span class="line">h=<span class="string">&quot;/root&quot;</span></span><br><span class="line"><span class="built_in">unset</span> LD_PRELOAD</span><br><span class="line">c=<span class="string">&quot;proot&quot;</span></span><br><span class="line">c+=<span class="string">&quot; --link2symlink&quot;</span></span><br><span class="line">c+=<span class="string">&quot; -0&quot;</span></span><br><span class="line">c+=<span class="string">&quot; -r  <span class="variable">$f</span>&quot;</span></span><br><span class="line">c+=<span class="string">&quot; -b /dev&quot;</span></span><br><span class="line">c+=<span class="string">&quot; -b /proc&quot;</span></span><br><span class="line">c+=<span class="string">&quot; -b  $f<span class="variable">$h</span>:/dev/shm&quot;</span></span><br><span class="line"><span class="comment">#您可以在此处修改挂载目录</span></span><br><span class="line">c+=<span class="string">&quot; -b /sdcard/:/mnt/sdcard/&quot;</span></span><br><span class="line"></span><br><span class="line">c+=<span class="string">&quot; -w <span class="variable">$h</span>&quot;</span></span><br><span class="line">c+=<span class="string">&quot; /usr/bin/env -i&quot;</span></span><br><span class="line">c+=<span class="string">&quot; HOME=<span class="variable">$h</span>&quot;</span></span><br><span class="line">c+=<span class="string">&quot; PATH=/usr/local/sbin:/usr/local/bin:/bin:/usr/bin:/sbin:/usr/sbin:/usr/games:/usr/local/games&quot;</span></span><br><span class="line">c+=<span class="string">&quot; TERM=xterm-256color&quot;</span></span><br><span class="line"><span class="comment">#c+=&quot; LANG=zh_CN.UTF-8&quot;</span></span><br><span class="line">c+=<span class="string">&quot; /bin/ash --login&quot;</span></span><br><span class="line">com=<span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$1</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line"><span class="built_in">exec</span> <span class="variable">$c</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="variable">$c</span> -c <span class="string">&quot;<span class="variable">$c</span>&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><p>将脚本写入<code>alpine.sh</code>文件里</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x alpine.sh</span><br><span class="line">bash alpine.sh</span><br></pre></td></tr></table></figure><p>如果有Root权限的直接输入<code>tsu</code>再执行<code>bash alpine.sh</code></p><p>接下来我们就可以进入刚刚安装好的系统里<br>虽然已经安装好了，但是没办法联网安装软件，还要配置一些文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -rf /etc/resolv.conf</span><br><span class="line"><span class="built_in">touch</span> /etc/resolv.conf </span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;nameserver 0.0.8.8</span></span><br><span class="line"><span class="string">nameserver 8.8.8.8&quot;</span> &gt;/etc/resolv.conf</span><br><span class="line"><span class="comment">#这时候可以联网，但官方软件地址速度很慢，所以继续换源</span></span><br><span class="line"></span><br><span class="line">sed -i <span class="string">&#x27;s/dl-cdn.alpinelinux.org/mirrors.tuna.tsinghua.edu.cn/g&#x27;</span> /etc/apk/repositories</span><br><span class="line"><span class="comment">#把dl-cdn.alpinelinux.org替换成mirrors.tuna.tsinghua.edu.cn</span></span><br><span class="line"></span><br><span class="line">apk update</span><br><span class="line">apk upgrade </span><br><span class="line">apk add wget vim</span><br></pre></td></tr></table></figure><p>安装<code>Apache2 PHP</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">apk add php-apache2 php-pdo php-mbstring php-gd php-dom php-pear php-pdo_mysql php-session php-simplexml php-gmp php-sockets php-json php-gettext php-iconv php-ctype php-curl php-exif php-ftp php-fileinfo php-intl php-ldap php-mysqli php-zip php-bz2</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;LoadModule php7_module modules/mod_php7.so</span></span><br><span class="line"><span class="string">LoadModule rewrite_module modules/mod_rewrite.so&quot;</span> &gt;&gt; /etc/apache2/httpd.conf</span><br><span class="line"></span><br><span class="line"><span class="comment">#如果不是用tsu启动的还要再修改一下端口</span></span><br><span class="line">sed -i <span class="string">&#x27;s/Listen 80/Listen 8080/g&#x27;</span> /etc/apache2/httpd.conf</span><br></pre></td></tr></table></figure><p>现在可以启动服务<code>rc-service apache2 start</code>很不幸回车后警告服务运行中，这时你打开浏览器<a href="127.0.0.1">localhost</a>发现服务没运行啊？所以得重载一下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rc-status</span><br><span class="line"><span class="built_in">touch</span> /run/openrc/softlevel</span><br></pre></td></tr></table></figure><p>启动服务<code>rc-service apache2 start</code>现在可以了<br><a href="127.0.0.1">localhost</a><br><a href="127.0.0.1:8080">localhost:8080</a><br>这时打开链接就可以看到成果了</p><p>配置PHP上传文件的大小限制</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/php7/php.ini</span><br><span class="line"></span><br><span class="line">post_max_size = 2M Post最大限制</span><br><span class="line">upload_max_filesize = 2M 上传文件的最大限制</span><br><span class="line">max_file_uploads = 20 最大并发上传数量</span><br></pre></td></tr></table></figure><p>当然了有些项目要用到数据库<code>Mysql</code>or<code>Mariadb</code>所以我们还要安装一个<code>Mysql</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">apk add mysql mysql-client</span><br><span class="line"></span><br><span class="line">passwd root <span class="comment">#修改一下登入密码</span></span><br><span class="line"></span><br><span class="line">rc-service mariadb start</span><br><span class="line"></span><br><span class="line">mysql_secure_installation <span class="comment">#初始化数据库</span></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB</span><br><span class="line">SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!</span><br><span class="line">注意:运行这个脚本的所有部分是所有MariaDB推荐</span><br><span class="line">服务器在生产使用!请仔细阅读每一步!</span><br><span class="line"></span><br><span class="line">In order to log into MariaDB to secure it, we&#x27;ll need the current</span><br><span class="line">password for the root user. If you&#x27;ve just installed MariaDB, and</span><br><span class="line">haven&#x27;t set the root password yet, you should just press enter here.</span><br><span class="line">为了登录MariaDB安全,我们需要的登入</span><br><span class="line">根用户密码。如果你刚刚安装MariaDB,</span><br><span class="line">还没有设置root密码,你应该在这里按回车。</span><br><span class="line"></span><br><span class="line">Enter current password for root (enter for none):</span><br><span class="line">输入当前密码为根(没有设置按回车): ***</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Setting the root password or using the unix_socket ensures that nobody</span><br><span class="line">can log into the MariaDB root user without the proper authorisation.</span><br><span class="line">设置root密码或使用unix_socket确保没人</span><br><span class="line">可以登录到MariaDB根用户没有适当的授权。</span><br><span class="line"></span><br><span class="line">You already have your root account protected, so you can safely answer &#x27;n&#x27;.</span><br><span class="line">你已经有根帐户保护,所以你可以放心地回答“n”。</span><br><span class="line"></span><br><span class="line">Switch to unix_socket authentication [Y/n]</span><br><span class="line">切换到unix_socket认证[是/否]</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">You already have your root account protected, so you can safely answer &#x27;n&#x27;.</span><br><span class="line">你已经有根帐户保护,所以你可以放心地回答“n”。</span><br><span class="line"></span><br><span class="line">Change the root password? [Y/n]</span><br><span class="line">改变根密码?[是/否]</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">By default, a MariaDB installation has an anonymous user, allowing anyone</span><br><span class="line">to log into MariaDB without having to have a user account created for</span><br><span class="line">them.  This is intended only for testing, and to make the installation</span><br><span class="line">go a bit smoother.  You should remove them before moving into a</span><br><span class="line">production environment.</span><br><span class="line">默认情况下,MariaDB安装有一个匿名用户,允许任何人</span><br><span class="line">登录MariaDB而无需创建用户帐户</span><br><span class="line">他们。这个目的是只用于测试,安装</span><br><span class="line">去更平缓一些。你应该进入前删除它们</span><br><span class="line">生产环境。</span><br><span class="line"></span><br><span class="line">Remove anonymous users?[Y/n]</span><br><span class="line">删除匿名用户?[是/否]</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Normally, root should only be allowed to connect from &#x27;localhost&#x27;.  This</span><br><span class="line">ensures that someone cannot guess at the root password from the network.</span><br><span class="line">正常情况下,Root用户只允许连接“本地localhost”。这</span><br><span class="line">确保坏人不能猜测网络的root密码。</span><br><span class="line"></span><br><span class="line">Disallow root login remotely? [Y/n]</span><br><span class="line">不允许远程root登录吗?[是/否]</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">By default, MariaDB comes with a database named &#x27;test&#x27; that anyone can</span><br><span class="line">access.  This is also intended only for testing, and should be removed</span><br><span class="line">before moving into a production environment.</span><br><span class="line">默认情况下,MariaDB附带了一个名为“测试”的数据库,任何人都可以，访问。这也是只有测试,并且应该被删除，之前移动到生产环境中。</span><br><span class="line"></span><br><span class="line">Remove test database and access to it? [Y/n]</span><br><span class="line">删除测试数据库和访问吗?[是/否]</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Reloading the privilege tables will ensure that all changes made so far</span><br><span class="line">will take effect immediately.</span><br><span class="line">重新加载权限表将确保所有到目前为止所做的更改将立即生效。</span><br><span class="line"></span><br><span class="line">Reload privilege tables now? [Y/n]</span><br><span class="line">现在重新加载权限表吗?[是/否]</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Cleaning up...</span><br><span class="line">清理....</span><br><span class="line"></span><br><span class="line">All done!  If you&#x27;ve completed all of the above steps, your MariaDB</span><br><span class="line">installation should now be secure.</span><br><span class="line">全部完成!如果你已经完成了以上步骤,MariaDB安装现在应该安全。</span><br><span class="line"></span><br><span class="line">Thanks for using MariaDB!</span><br><span class="line">感谢使用MariaDB!</span><br></pre></td></tr></table></figure><p>根据提示进行设置，完成后接下去创建数据库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br><span class="line"><span class="comment">#输入密码或者回车登入</span></span><br><span class="line"></span><br><span class="line">create database name ;</span><br><span class="line"><span class="comment">#创建数据库</span></span><br><span class="line">drop database name;</span><br><span class="line"><span class="comment">#删除数据库</span></span><br><span class="line"><span class="comment">#show databases;</span></span><br><span class="line">列出所有数据库</span><br><span class="line"></span><br><span class="line">mysqldump -u 用户名 -p 数据库名 &gt; 数据库文件名.sql</span><br><span class="line"><span class="comment">#导出数据库</span></span><br><span class="line"></span><br><span class="line">mysql -u用户名 -p 数据库名 &lt; 数据库文件名.sql</span><br><span class="line"><span class="comment">#导入数据库</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 记录 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 原创 </tag>
            
            <tag> Termux </tag>
            
            <tag> Alpine </tag>
            
            <tag> 服务器 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>小米手机刷机通用教程</title>
      <link href="/2021/06/06/shuajijiaocheng/"/>
      <url>/2021/06/06/shuajijiaocheng/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>先介绍一下什么是刷机，每个手机都有一个属于厂商自己定制的系统又指Rom，小米的Miui，华为的Emui，魅族的Flyme，OPPO的ColorOS，这些都是来自Google谷歌开源项目<code>AOSP</code>演化来的，刷机就是在当前设备上安装上其它品牌的系统来达到目的。这里强调一遍双清抹除数据，恢复出厂设置，那不能叫刷机。</p><h2 id="刷机种类"><a href="#刷机种类" class="headerlink" title="刷机种类"></a>刷机种类</h2><p>上面我们知道什么是刷机，那么如何开始给设备刷机，有几种方式呢？<br>我们在使用手机都会有系统更新通知，下载更新，那么这种方式叫 <code>卡刷</code> 也是最常用的刷机手段，刷机包通常为zip文件，这是第一种</p><p>手机在使用过程中系统损坏了，在售后时工程人员用电脑给手机刷机，用数据线连接充电接口的叫 <code>线刷</code> 刷机包文件通常为tgz格式，这也就是第二种的刷机方式</p><p>以上两种都是比较常见的手段</p><p>第三种刷机方式叫<code>GSI</code>全称是 Generic System Image，翻译过来就是「通用系统镜像」，这个概念来源于 Project Treble。自从 Android 8 引入 Project Treble 后，手机的系统文件和底层的厂商硬件驱动开始分离存放，更新系统时只需要更新系统文件即可。</p><h2 id="解锁设备"><a href="#解锁设备" class="headerlink" title="解锁设备"></a>解锁设备</h2><p>了解以上知识就开始真正意义上的刷机实践了，厂商都会给设备上一个叫 <code>bootloader</code>的设备锁，需要按照官方的方式进行解锁，不然没有刷写权限刷不了机</p><p>这里以小米手机为例</p><div class="note info flat"><p>需要用到 Windows系统</p></div><ol><li><p>打开【设置】，【我的设备】里点击【全部参数】，连续点击【MIUI版本】几次，直到出现【你已处于开发者模式】提示</p></li><li><p>【更多设置】里点击【开发者选项】，点击【设备解锁状态】。（2015年之后的小米设备才会加锁，之前的并没有）</p></li><li><p>解锁首先要绑定的你的小米账号，点击【绑定账号和设备】（这个有的账号要绑定后三天才能解锁，有的绑定后马上就能解锁，具体以自己的情况为准</p></li><li><p>登录自己的小米账号。</p></li><li><p>登录成功。</p></li><li><p>返回再次点击【绑定账号和设备】的时候显示已经绑定，说明绑定成功。</p></li><li><p>浏览器打开小米手机解锁网站 <a href="http://www.miui.com/unlock/index.html">网址</a> 点击【立即解锁】</p></li><li><p>点击【解锁工具下载】，下载解锁工具。</p></li><li><p>下载后解压，运行程序。</p></li><li><p>点击【同意】。</p></li><li><p>还得再次登录自己的小米账号。</p></li><li><p>当前显示没有连接手机，不要着急，下一步教你进入fastboot连接。</p></li><li><p>在关机状态下同时按住音量减键和电源键，直到出现如下界面，进入fastboot。此时用数据线连接手机和电脑。</p></li><li><p>连接好后电脑会出现【已连接手机】，点击【解锁】。</p></li><li><p>点击【确认解锁】。</p></li><li><p>点击【确认解锁】。</p></li><li><p>正在解锁。</p></li><li><p>解锁完成，会自动重启手机。</p></li></ol><h2 id="Recovery"><a href="#Recovery" class="headerlink" title="Recovery"></a>Recovery</h2><p>这个 <code>Recovery</code> 就是一个恢复模式，每个手机都有系统模式，<code>Fastboot</code> 和 <code>Recovery</code> 这三种模式，官方系统升级也是用的这个模式，可以借用这个恢复出厂设置，或者链接电脑刷机。但官方自带的有局限，做不了其它，刷不了没验证的第三方系统，所以我们得找到属于自己设备的第三方<code>Recovery</code><br>首先确认一下要刷机设备代号<br><a href="https://twrp.me/Devices/">TWRP第三方Rec设备列表</a><br><a href="https://orangefox.download/zh-CN">橙狐第三方Rec设备列表</a><br>找到之后下载下来 <code>img</code> 格式文件</p><div class="note info flat"><p>以 Windows系统为例</p></div><ol><li><p>打开电脑 <code>Ctrl + R</code> 输入cmd回车打开终端</p></li><li><p>把数据线和电脑连接上，把刚刚下载的文件移动到电脑桌面</p></li><li><p>把手机重启至Fastboot模式（手机关机状态下 开机按钮+下音量按钮，按住直到屏幕看见小兔子维修安卓机器人）然后输入下面的指令后直接回车等待（每一条回车一次）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fastboot flash recovery 把文件拖到终端来</span><br><span class="line"></span><br><span class="line">fastboot reboot recovery</span><br><span class="line"><span class="comment">#有些机型没用，我建议是回车后按住音量上按钮，因为如果没有重启到recovery进入系统后第三方rec可能会恢复回官方，那么就得重新刷一遍rec模式</span></span><br></pre></td></tr></table></figure></li><li><p>刷入Magisk（脸谱&#x2F;面具&#x2F;Root）简单介绍一下面具</p><div class="note simple"><p>由于它是通过启动时在 boot 中创建钩子，把 &#x2F;data&#x2F;magisk.img 挂载到 &#x2F;magisk，构建出一个在 system 基础上能够自定义替换，增加以及删除的文件系统，所有操作都在启动的时候完成，实际上并没有对 &#x2F;system 分区进行修改（即 systemless 接口，以不触动 &#x2F;system 的方式修改 &#x2F;system）。</p></div><p>功能</p><div class="note simple"><p>集成 root（MagiskSU）<br>root 和 Magisk 的日志功能<br>Magisk Hide（隐藏 Magisk 的 root 权限，针对 Snapchat、Android Pay、PokémonGo、Netflix 等）<br>为广告屏蔽应用提供 systemless hosts 支持<br>通过 SafetyNet 检查<br>Magisk 功能模块</p></div><p>在电脑上把<a href="https://yiyuwen.lanzouo.com/invxorpq3ne">Magisk23(2300).zip</a>下载到电脑桌面上<br>如果你只是想获取root权限，那么移动到手机里后用twrp找到这个文件点进去刷入重启即可获得至高无上的权限，如果你还是想刷机那么接着往下看…</p></li></ol><h2 id="卡刷-寻找适合自己的Rom"><a href="#卡刷-寻找适合自己的Rom" class="headerlink" title="卡刷-寻找适合自己的Rom"></a>卡刷-寻找适合自己的Rom</h2><p>寻找刷机包，下载刷机包是需要一段难熬的时间的，所以你可以把手机打开以免收不到消息。</p><div class="note warning no-icon flat"><p>一定要下载和自己手机<mark class="hl-label red"><strong>设备代号</strong></mark> 一致的包！<br>一定要下载和自己手机<mark class="hl-label red"><strong>设备代号</strong></mark> 一致的包！<br>一定要下载和自己手机<mark class="hl-label red"><strong>设备代号</strong></mark> 一致的包！<br>下列没有排名排列，萝卜白菜各有所爱，看个人喜爱</p></div><p><a href="https://www.lineageos.org/">Lineage OS</a><mark class="hl-label green">简洁稳定</mark>   <mark class="hl-label blue">镜像站</mark> </p><p><a href="https://pic.baike.soso.com/ugc/baikepic2/0/20170907041906-444925748.jpg/800">Arrow</a><mark class="hl-label green">简洁稳定</mark>   <mark class="hl-label blue">镜像站</mark> </p><p><a href="https://crdroid.net/">Crdroid</a><mark class="hl-label orange">多样性</mark>  <mark class="hl-label purple">高定制</mark> </p><p><a href="https://www.droidontime.com/">Dot OS</a><mark class="hl-label orange">多样性</mark>  <mark class="hl-label purple">高定制</mark> </p><p><a href="https://download.pixelexperience.org/">Pixelexperience</a><mark class="hl-label green">简洁稳定</mark>  </p><p><a href="https://havoc-os.com/download">Havoc</a><mark class="hl-label green">简洁稳定</mark> <br>用电脑下载这样可以省去传包的过程！</p><h2 id="抹除设备"><a href="#抹除设备" class="headerlink" title="抹除设备"></a>抹除设备</h2><div class="note warning flat"><p>温馨提示: 你应该知道自己在做什么！</p></div><div class="note warning flat"><p>接下来会抹除设备上的所有信息，包括微信消息，通讯录联系人，相册图片，截图，APP等等…</p></div><div class="note warning flat"><p>确保已经对设备上重要数据进行备份！再来进行下面的步骤！</p></div><ol><li><p>首先手机重启到Recovery模式。</p></li><li><p>设置语言 <strong>Set the language</strong></p></li><li><p>有锁屏密码就输入锁屏密码，没有锁屏密码就跳过</p></li><li><p><img src="http://www.romleyuan.com:9001/attach/photo/46b4481b3d264c82b732424c94f57b2d.jpg" alt="清除数据"></p></li><li><p><img src="http://www.romleyuan.com:9001/attach/photo/5e5b7019085f4cd1a5ba0885496e937f.jpg" alt="格式化Data分区"></p></li><li><p>然后回到菜单，点重启👉🏻Recovery</p></li><li><p>等手机重启到了TWRP后，打开电脑把桌面上的 刷机包 Magisk 复制到手机里，然后刷入系统包，再刷入面具，最后重启👉🏻系统，不出意外五分钟内手机就会开机成功，如果一直卡开机画面，二十分钟还没进系统就手动强制重启一下（有格式化数据，类原生系统一般不会出现这种情况）自此，卡刷教程就这样结束了，下面我们讲线刷。</p></li></ol><h2 id="线刷"><a href="#线刷" class="headerlink" title="线刷"></a>线刷</h2><p>一般情况下我们是用不到线刷的，不仅仅是因为不方便，还因为第三方系统少，和数据线不稳定容易黑砖。如果手机卡刷已经刷不了，或者recovery模式进不去，那么只能进行线刷。</p><mark class="hl-label red">首先还是要备份数据的</mark> <mark class="hl-label red">重要的事情，我再说一遍</mark> <p>还是以Windows为例，下载下面两样东西<br><strong>小米手机</strong><br><a href="http://bigota.d.miui.com/tools/MiFlash2018-5-28-0.zip">线刷工具MiFlash2018-5-28-0.zip</a>解压后打开</p><p><a href="http://www.miui.com/shuaji-393.html">小米线刷下载地址</a><br><a href="https://xiaomirom.com/">小米官方下载地址2</a><br>下载注意看文件后缀是否为<mark class="hl-label green">.tgz</mark> 下载完成后解压，打开刷机工具，安装驱动<br><img src="https://thumb.jfcdns.com/thumb/n33150p31lxq15fd214/16f5e86d9534a51e_460_0.jpeg" alt="安装驱动"><br>然后将手机重启到Fastboot，数据线连接电脑<br>点左上角浏览 找到刚刚解压好的系统文件夹 然后把右下角的 清除并锁上 改为清除所有就行，避免刷完机bootloader被锁上了，到时候又得解锁，然后点刷机，之后尽量不要去碰手机和数据线，确保安全刷机，等待手机自动重启就行了。</p><h2 id="线刷-Gsi-Sgsi"><a href="#线刷-Gsi-Sgsi" class="headerlink" title="线刷-Gsi Sgsi"></a>线刷-Gsi Sgsi</h2><div class="note warning no-icon flat"><p>通刷是最不可取的方式<br>无论是gsi还是sgsi都是最容易刷不开机的<br>小白请勿尝试</p></div><ol><li><p>通刷包有很多种选择，也是由不同的国外大神负责维护，下面贴上几乎所有 gsi 通刷包（包括官方和非官方）的集合链接，请各位自行选择，选择包的种类<a href="https://wap.sogou.com/ntcweb?rcer=Q9PEmkJaYYK0AK2xc&dp=1&bid=sogou-mobb-f04c1064af05871d&is_per=0&pno=1&clk=2&vrid=30000909&wml=0&linkid=0&pcurl=https://www.irom.net/post/9.html&clickTime=1643682058230&clickType=click&bilog=vrcid:title.ec27d24&mcv=81&pcl=242,735&sed=0&ml=15&sct=73&url=https://github.com/phhusson/treble_experimentations/wiki/Generic-System-Image-(GSI)-list">下载地址</a></p></li><li><p>需要下载一个<code>Treble Check</code>的软件用来检测<a class="btn-beautify green larger" href="https://yiyuwen.lanzouo.com/iOHe2zgubbi/"   title="蓝奏云下载"><i class="far fa-hand-point-right"></i><span>蓝奏云下载</span></a></p></li><li><p>打开软件查看检测结果，只有当 Project Treble 通过检测才表明此手机可以刷 gsi 镜像包。接着看第二项 Seamless System Updates，如果显示 A&#x2F;B 即表明你应该选择的通刷包后缀名为 A&#x2F;B 或者 AB 。若检测结果显示 A only，即表明你应该选择的通刷包后缀名为 A 或者 A only。 </p></li><li><p>上网查找你所使用手机的架构名称，例如arm64<br> 出厂版本是安卓9.0版本的手机（第三步关键，凡是出厂版本为 9.0 的手机，无论 Seamless System Updates 检测结果如何，通刷包的版本一律选择 A&#x2F;B 或 AB。）</p></li><li><p>网络下载符合所使用机型的 vbmeta.img, 并将其拷贝到 platform-tools 文件夹内</p></li><li><p>adb依次输入以下命令 </p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastboot --disable-verity --disable-verification flash vbmeta vbmeta.img fastboot flash system &lt;gsi-img&gt; fastboot -w fastboot reboot</span><br></pre></td></tr></table></figure></li></ol><h2 id="卡刷-Gsi"><a href="#卡刷-Gsi" class="headerlink" title="卡刷-Gsi"></a>卡刷-Gsi</h2><ol><li><p>自行刷入第三方 rec 自行下载好 gsi 解压后得到 img 镜像包。要使用官方稳定ROM作为底包，不要使用开发版和任何官改版。</p></li><li><p>手机备份好重要资料后，重启至第三方 recovery TWRP, 并在高级中选择取消强制加密并选中两项后确认。 主页面选择清除，滑动下方滑块进行双清即可，不要自作多情，双清足够。 </p></li><li><p>返回主页面，选择安装后，点击右下方刷入镜像，找到拷贝到手机里的img镜像包，选择后刷入System镜像分区内，等待结束后再次双清即开机。</p></li></ol><h2 id="修复Gis通病"><a href="#修复Gis通病" class="headerlink" title="修复Gis通病"></a>修复Gis通病</h2><ol><li>修复自动亮度失效</li></ol><p>下载 framework-res__auto_generated_rro.apk</p><p>用re管理器将其复制到 vendor&#x2F;overlay 文件夹 </p><p>修改 overlay 文件夹权限为 rwxr-xr-x </p><p>手机打开 Termux 输入以下命令 </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -o remount -w /vendor <span class="built_in">chcon</span> u:object_r:vendor_overlay_file:s0 /vendor/overlay;<span class="built_in">chcon</span> u:object_r:vendor_overlay_file:s0 /vendor/overlay/framework-res__auto_generated_rro.apk</span><br></pre></td></tr></table></figure><ol start="2"><li>修复扬声器失真<br>手机下载 Root Explorer<br>删除两个文件夹<br>&#x2F;system&#x2F;vendor&#x2F;lib&#x2F;soundfx<br>&#x2F;system&#x2F;vendor&#x2F;lib64&#x2F;soundfx</li></ol><p>改变 vendor 文件夹的权限为 rw-r–r– </p><p>重启手机 </p><ol start="3"><li>修复屏幕状态栏圆角<br>adb 输入以下命令(最后的数字根据自己喜好任意修改)<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell settings put secure sysui_rounded_content_padding 20</span><br></pre></td></tr></table></figure></li></ol><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>至此这篇文章就结束了，讲述了三种刷机方式，希望可以通过这篇文章给你带来有用的知识</p>]]></content>
      
      
      
        <tags>
            
            <tag> 原创 </tag>
            
            <tag> Android </tag>
            
            <tag> 刷机教程 </tag>
            
            <tag> 类原生 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>链接获取QQ头像</title>
      <link href="/2021/04/16/qq/"/>
      <url>/2021/04/16/qq/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://q1.qlogo.cn/g?b=qq&amp;nk=QQ号&amp;s=640</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>蓝奏云的变相用法</title>
      <link href="/2021/03/14/lanzouyun/"/>
      <url>/2021/03/14/lanzouyun/</url>
      
        <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>蓝奏云是一个提供云存储服务的平台，功能上类似于百度网盘、腾讯微云等产品。该网盘最大的特点，就是不会对免费用户进行上传下载限速，所以广受用户好评。蓝奏云主要靠广告来盈利，在它的文件分享页面，会有一些广告展示。普通用户只能上传100M以内的文件，蓝奏云以最低的成本满足了最多的用户!现在我们来谈谈怎么变相上传超过100M的文件!没有使用破解的方法进行变相上传。</p><h3 id="认识"><a href="#认识" class="headerlink" title="认识"></a>认识</h3><p>既然上面说了大小是主要问题所以我们得了解什么压缩方式是最暴力的，zip? 7z?其实都不是，我们要用tar和xz，是不是很少听说，又或者没有听说过?tar压缩用来打包文件夹，因为xz只能用来压缩一个文件，而不能压缩文件夹</p><h3 id="使用tar"><a href="#使用tar" class="headerlink" title="使用tar"></a>使用tar</h3><p>打开termux软件直接输入tar，xz就可以直接使用，一般Linux都会自带上这些工具，可以说在Linux最常用的打包方式了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">termux-setup-storage <span class="comment">#获取读写/sdcard/的权限</span></span><br><span class="line"><span class="built_in">cd</span> /sdcard/Download/ <span class="comment">#进入你的工作目录，我一般在Download目录</span></span><br><span class="line"></span><br><span class="line">tar cpvf file.tar files <span class="comment">#c表示添加新的 p保持权限所有 v表示显示过程</span></span><br><span class="line">f表示指定的备份文件 后面跟随压缩包名称 再后面就是文件需要打包的目录或者文件</span><br></pre></td></tr></table></figure><h3 id="使用xz"><a href="#使用xz" class="headerlink" title="使用xz"></a>使用xz</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xz -z -v -9 tar压缩包名字</span><br><span class="line">z表示创建xz压缩 -v同上 -9表示压缩率 0-9可选</span><br></pre></td></tr></table></figure><p>得到一个{name}.tar.xz 的文件，如果压缩完的文件还是100M以上那怎么办?<br>不还是不能上传到蓝奏云呀？如果我说把一个压缩包分类切割为两个呢?200m不就变成两个100m啦？什么?你说两个还是太大?那就按大小分割不就成啦？使用<code>split</code>指令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">split</span> -b 100m 压缩包名字 </span><br></pre></td></tr></table></figure><p>-b表示按照字节切割千万记得100后面一定要跟随单位否则会以100b切割一个文件，那么100m就会分割成1024x100&#x3D;102400个文件，这时你的设备可能出现不良反应🌚</p><h3 id="上传文件"><a href="#上传文件" class="headerlink" title="上传文件"></a>上传文件</h3><p>切割完后会有xxa xxb xxc 这些文件你可以给他们改个名字，比如 xxa改成1 xxb改成2….但是xxa改成2 xxb千万别改成1 不然合并包的时候顺序乱了就无法进行解压啦，这点很重要！</p><p>蓝奏云支持的后缀zip 记得给分裂的文件添加一个后缀.zip比如xxa改成 file1.zip xxb&#x3D;file2.zip xxc&#x3D;file3…..<br>到蓝奏云创建一个文件夹，进入文件夹上传文件</p><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p>点蓝奏云目录的分享链接，复制到新的窗口打开，依次下载里面所有的文件。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find /sdcard/ -name file*zip |xargs -i <span class="built_in">cat</span> &#123;&#125; &gt; name.tar.xz</span><br><span class="line">find /sdcard/ -name name.tar.xz |xarge -i tar xpf &#123;&#125;</span><br></pre></td></tr></table></figure><p>find 是Linux的搜索工具 指定&#x2F;sdcard文件夹下面的所有文件夹内搜索 按照名字file*.zip搜索 <em>号表示所有  用法比较多比如你有个文件夹叫afjvkrkckr，你要进入只能一个一个字母打?当然不! 你可以 cd a</em>r 这样 也可以 cd af* 这个符号可以代替所有xargs -i 表示输出搜索到的名字 cat打印{搜索到的名字文件}到name.tar.xz这个文件里<br>下面一条就是解压搜索到的名字</p><p>自此本教程就结束啦!</p><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>本文用到<code>tar xz cat find xargs split</code>这些工具，都是Linux常用的工具</p>]]></content>
      
      
      
        <tags>
            
            <tag> 原创 </tag>
            
            <tag> Termux </tag>
            
            <tag> 蓝奏云 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何使用终端卸载系统自带的软件？</title>
      <link href="/2021/03/13/termuxpm/"/>
      <url>/2021/03/13/termuxpm/</url>
      
        <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>手机官方系统自带的软件很多，你用不到的也很多，放在一边吧还给你推送广告😓，干脆把它卸载了呗!百度上可以找到很多的卸载自带软件的APP，为了卸载软件去下载一个广告更多的软件划不来呀，所以今天还是用万能的工具箱<code>Termux</code>有无<code>Root</code>都可以使用，只不过没有root权限会麻烦一些罢了。</p><h3 id="无Root权限卸载"><a href="#无Root权限卸载" class="headerlink" title="无Root权限卸载"></a>无Root权限卸载</h3><p>在没有root权限的情况下可以使用<a href="https://jingyan.baidu.com/article/ce4366494962083773afd3d0.html">Adb</a>工具<br>克隆这个仓库的文件，这是Magisk的adb包可以直接使用这个</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/Magisk-Modules-Repo/adb-ndk.git </span><br><span class="line"><span class="built_in">cd</span> adb-ndk/bin</span><br><span class="line"><span class="built_in">chmod</span> +x *</span><br><span class="line"><span class="built_in">mv</span> * <span class="variable">$PREFIX</span>/bin/</span><br></pre></td></tr></table></figure><p>首先在Android系统开发者模式里面开启“无线调试”点击进去可以看到IP地址和端口，记住这个到终端执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">adb connect ip:prot <span class="comment">#连接网络设备</span></span><br><span class="line">adb devices <span class="comment">#可以看到有一个设备显示啦</span></span><br><span class="line">adb shell pm uninstall --user 0 apk-name</span><br><span class="line">Success <span class="comment">#出现这个时表示成功</span></span><br></pre></td></tr></table></figure><h3 id="Root卸载"><a href="#Root卸载" class="headerlink" title="Root卸载"></a>Root卸载</h3><p>如果有root那就方便了很多，不需要使用adb工具</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">su  <span class="comment">#切换到root</span></span><br><span class="line">pm uninstall --user 0 apk-name</span><br><span class="line">Success <span class="comment">#出现这个时表示成功</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>超新星视频床的使用</title>
      <link href="/2016/08/11/spc/"/>
      <url>/2016/08/11/spc/</url>
      
        <content type="html"><![CDATA[<p>什么是视频床？<br>在这之前可以先了解一下什么是<a href="https://baike.baidu.com/item/%E5%9B%BE%E5%BA%8A/10721348">图床</a></p><p>就是专门用来存放图片，同时允许你把图片对外连接的网上空间</p><p>故此我把存放到网盘里，并且我可以通过直链接获取到的视频（至少链接不变的情况下）的网盘叫视频床</p><p>在写文章时如果需要在文章中插入视频，我想既然有那么多图床，应该也有视频床嘛，于是找了好久结果还真没有这种东西。</p><p>于是我尝试了几种方法插入视频，但它们都存在一些我不满意的地方：</p><p>首先是 Bilibili 分享的外链，视频在未登录时只能选择 480p 点登录就跳转 B 站了。</p><p>其次是对象存储，阿里云 OSS、腾讯云 COS 都是这类产品，可以自定义播放器样式，速度也很快，只是流量是真的很贵</p><p>之后又尝试了用 Onedrive 和阿里云盘获取直链。Onedrive 可以嵌入播放，但是速度太慢，缓存老长时间，阿里云盘的直链只能下载，嵌入会失效，大概率开了防盗链。</p><p>折腾了好久终于找到一个适合的，今天要薅的猪脚就是＂<a href="https://www.chaoxing.com/">超星</a>这个大人物＂</p><ol><li>稳定性有保障，超星肯定不会跑路</li><li>速度快，我试了下嵌入的视频完全可以</li><li>无限空间，虽然超星网盘只有 100G 存储空间，但我们可以用小组文件来无限存储。</li></ol><p>有账号的登录，没账号的注册®️：<a href="http://i.chaoxing.com/">登入&#x2F;注册</a></p><p><img src="https://gitee.com/yits/mypic/raw/master/2022/02/16/cxxzc.png" alt="图片"></p><p>登录后可以看到左边一排有个 云盘 点击后会有 上传文件</p><p><img src="https://gitee.com/yits/mypic/raw/master/2022/02/16/cxxyp.png" alt="图片"></p><p>我比较习惯使用via浏览器不只是因为它简洁，还有它的插件和功能，使用via浏览器等视频上传完成后等一会</p><p>** 手机端教程 **<br>我比较习惯使用via浏览器不只是因为它简洁，还有它的插件和功能，使用via浏览器等视频上传完成后等一会</p><p><img src="https://gitee.com/yits/mypic/raw/master/2022/02/16/spzm.png" alt="图片"></p><p>(这时候网站需要转码需要一些时间，过一会点开视频，点浏览器更多功能，工具箱，资源嗅探）</p><p><img src="https://gitee.com/yits/mypic/raw/master/2022/02/16/fzsplj.png" alt="图片"></p><p>长按链接把链接复制下来进行编辑</p><p>** PC端教程 **<br>上传之后点击这个文件进入预览界面，然后按 F12 选择检查功能，对这个视频进行检查：</p><p><img src="https://gitee.com/yits/mypic/raw/master/2022/02/16/78e4e0fb83f069649cba3ea07ef3bd46.jpg" alt="图片"></p><p>之后我们的控制台会跳转到以下代码界面，对右侧的地址右键，选择在新标签页中打开：</p><p><img src="https://gitee.com/yits/mypic/raw/master/2022/02/16/6357357219e0f4dbe3ab8a55e33e96a3.jpg" alt="图片"></p><p>右键这一串字符串</p><p><img src="https://gitee.com/yits/mypic/raw/master/2022/02/16/4bc6c1124dffc90955f99f9f417b08bc.jpg" alt="图片"></p><p>在新标签中打开，出现 403 界面不过没问题，我们把地址栏问号前的值复制下来：</p><p><img src="https://gitee.com/yits/mypic/raw/master/2022/02/16/b5718c3e45dadf47c278ef1fcb8b4cae.jpg" alt="图片"></p><p>接下来的步骤不管pc还是手机都是一样</p><p>‘’’<br><a href="https://s1.ananas.chaoxing.com/video/48/59/55/4d2d498801c55a58d2d40d9193d3751a/sd.mp4?at_=1645018185315&amp;ak_=97d9a4f1fa0128f9254e1d898b4b218b&amp;ad_=c1ece5499fe7e38a96ca6eafafd55287">https://s1.ananas.chaoxing.com/video/48/59/55/4d2d498801c55a58d2d40d9193d3751a/sd.mp4?at_=1645018185315&amp;ak_=97d9a4f1fa0128f9254e1d898b4b218b&amp;ad_=c1ece5499fe7e38a96ca6eafafd55287</a><br>‘’’</p><ol><li>删除链接 mp4 后面的所有字符串</li><li>修改链接前的 s1 改成 s138 这样就成功获取到直链了</li></ol><p>‘’’<br><a href="https://s138.ananas.chaoxing.com/video/48/59/55/4d2d498801c55a58d2d40d9193d3751a/sd.mp4">https://s138.ananas.chaoxing.com/video/48/59/55/4d2d498801c55a58d2d40d9193d3751a/sd.mp4</a><br>‘’’</p><p>如果空间不够可以到小组里创建一个小组，选择小组云盘，添加云盘视频，然后就能把云盘的视频删了。</p>]]></content>
      
      
      <categories>
          
          <category> 云储存 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 网盘 </tag>
            
            <tag> 视频 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>标签测试</title>
      <link href="/2016/07/29/pagetest/"/>
      <url>/2016/07/29/pagetest/</url>
      
        <content type="html"><![CDATA[<div class="note success flat"><p>简洁的</p></div><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note simple %&#125;</span><br><span class="line">默認 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default simple %&#125;</span><br><span class="line">default 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary simple %&#125;</span><br><span class="line">primary 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success simple %&#125;</span><br><span class="line">success 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info simple %&#125;</span><br><span class="line">info 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning simple %&#125;</span><br><span class="line">warning 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger simple %&#125;</span><br><span class="line">danger 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note simple"><p>默認 提示塊標籤</p></div><div class="note default simple"><p>default 提示塊標籤</p></div><div class="note primary simple"><p>primary 提示塊標籤</p></div><div class="note success simple"><p>success 提示塊標籤</p></div><div class="note info simple"><p>info 提示塊標籤</p></div><div class="note warning simple"><p>warning 提示塊標籤</p></div><div class="note danger simple"><p>danger 提示塊標籤</p></div><div class="note success flat"><p>扁平的</p></div><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note modern %&#125;</span><br><span class="line">默認 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default modern %&#125;</span><br><span class="line">default 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary modern %&#125;</span><br><span class="line">primary 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success modern %&#125;</span><br><span class="line">success 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info modern %&#125;</span><br><span class="line">info 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning modern %&#125;</span><br><span class="line">warning 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger modern %&#125;</span><br><span class="line">danger 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note modern"><p>默認 提示塊標籤</p></div><div class="note default modern"><p>default 提示塊標籤</p></div><div class="note primary modern"><p>primary 提示塊標籤</p></div><div class="note success modern"><p>success 提示塊標籤</p></div><div class="note info modern"><p>info 提示塊標籤</p></div><div class="note warning modern"><p>warning 提示塊標籤</p></div><div class="note danger modern"><p>danger 提示塊標籤</p></div><div class="note success flat"><p>平</p></div><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note flat %&#125;</span><br><span class="line">默認 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default flat %&#125;</span><br><span class="line">default 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary flat %&#125;</span><br><span class="line">primary 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success flat %&#125;</span><br><span class="line">success 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info flat %&#125;</span><br><span class="line">info 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning flat %&#125;</span><br><span class="line">warning 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger flat %&#125;</span><br><span class="line">danger 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note flat"><p>默認 提示塊標籤</p></div><div class="note default flat"><p>default 提示塊標籤</p></div><div class="note primary flat"><p>primary 提示塊標籤</p></div><div class="note success flat"><p>success 提示塊標籤</p></div><div class="note info flat"><p>info 提示塊標籤</p></div><div class="note warning flat"><p>warning 提示塊標籤</p></div><div class="note danger flat"><p>danger 提示塊標籤</p></div><div class="note success flat"><p>无背景的</p></div><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note disabled %&#125;</span><br><span class="line">默認 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default disabled %&#125;</span><br><span class="line">default 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary disabled %&#125;</span><br><span class="line">primary 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success disabled %&#125;</span><br><span class="line">success 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info disabled %&#125;</span><br><span class="line">info 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning disabled %&#125;</span><br><span class="line">warning 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger disabled %&#125;</span><br><span class="line">danger 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note disabled"><p>默認 提示塊標籤</p></div><div class="note default disabled"><p>default 提示塊標籤</p></div><div class="note primary disabled"><p>primary 提示塊標籤</p></div><div class="note success disabled"><p>success 提示塊標籤</p></div><div class="note info disabled"><p>info 提示塊標籤</p></div><div class="note warning disabled"><p>warning 提示塊標籤</p></div><div class="note danger disabled"><p>danger 提示塊標籤</p></div><div class="note success flat"><p>没有图标的</p></div><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note no-icon %&#125;</span><br><span class="line">默認 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default no-icon %&#125;</span><br><span class="line">default 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary no-icon %&#125;</span><br><span class="line">primary 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success no-icon %&#125;</span><br><span class="line">success 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info no-icon %&#125;</span><br><span class="line">info 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning no-icon %&#125;</span><br><span class="line">warning 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger no-icon %&#125;</span><br><span class="line">danger 提示塊標籤</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note no-icon flat"><p>默認 提示塊標籤</p></div><div class="note default no-icon flat"><p>default 提示塊標籤</p></div><div class="note primary no-icon flat"><p>primary 提示塊標籤</p></div><div class="note success no-icon flat"><p>success 提示塊標籤</p></div><div class="note info no-icon flat"><p>info 提示塊標籤</p></div><div class="note warning no-icon flat"><p>warning 提示塊標籤</p></div><div class="note danger no-icon flat"><p>danger 提示塊標籤</p></div><div class="note success flat"><p>Demo 1 - 預設選擇第一個【默認】</p></div><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">test1 1</button></li><li class="tab"><button type="button" data-href="#test1-2">test1 2</button></li><li class="tab"><button type="button" data-href="#test1-3">test1 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note success flat"><p>Demo 2 - 預設選擇 tabs</p></div><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test2, 3 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="tabs" id="test2"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test2-1">test2 1</button></li><li class="tab"><button type="button" data-href="#test2-2">test2 2</button></li><li class="tab active"><button type="button" data-href="#test2-3">test2 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test2-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test2-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="test2-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note success flat"><p>Demo 3 - 沒有預設值</p></div><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test3, -1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="tabs" id="test3"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test3-1">test3 1</button></li><li class="tab"><button type="button" data-href="#test3-2">test3 2</button></li><li class="tab"><button type="button" data-href="#test3-3">test3 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test3-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note success flat"><p>Demo 4 - 自定義 Tab 名 + 只有 icon + icon<br>和 Tab 名</p></div><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test4 %&#125;</span><br><span class="line">&lt;!-- tab 第一個Tab --&gt;</span><br><span class="line"><span class="strong">**tab名字為第一個Tab**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab @fab fa-apple-pay --&gt;</span><br><span class="line"><span class="strong">**只有圖標 沒有Tab名字**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab 炸彈@fas fa-bomb --&gt;</span><br><span class="line"><span class="strong">**名字+icon**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">第一個Tab</button></li><li class="tab"><button type="button" data-href="#test4-2"><i class="fab fa-apple-pay" style="text-align: center;"></i></button></li><li class="tab"><button type="button" data-href="#test4-3"><i class="fas fa-bomb"></i>炸彈</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p><strong>tab名字為第一個Tab</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><p><strong>只有圖標 沒有Tab名字</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-3"><p><strong>名字+icon</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note success flat"><p>亮色</p></div><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% label 没有设置颜色 %&#125;</span><br><span class="line">&#123;% label 蓝色 blue %&#125;</span><br><span class="line">&#123;% label 粉色 pink %&#125;</span><br><span class="line">&#123;% label 大红 red %&#125;</span><br><span class="line">&#123;% label 紫色 purple %&#125;</span><br><span class="line">&#123;% label 橘色 orange %&#125;</span><br><span class="line">&#123;% label 绿色 green %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><mark class="hl-label default">没有设置颜色</mark> <mark class="hl-label blue">蓝色</mark> <mark class="hl-label pink">粉色</mark> <mark class="hl-label red">大红</mark> <mark class="hl-label purple">紫色</mark> <mark class="hl-label orange">橘色</mark> <mark class="hl-label green">绿色</mark> <figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btn &#x27;https://yist.top/&#x27;,链接按钮,far fa-hand-point-right,larger %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% btn &#x27;https://yist.top/&#x27;,链接按钮,far fa-hand-point-right,blue larger %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% btn &#x27;https://yist.top/&#x27;,链接按钮,far fa-hand-point-right,pink larger %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% btn &#x27;https://yist.top/&#x27;,链接按钮,far fa-hand-point-right,red larger %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% btn &#x27;https://yist.top/&#x27;,链接按钮,far fa-hand-point-right,purple larger %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% btn &#x27;https://yist.top/&#x27;,链接按钮,far fa-hand-point-right,orange larger %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% btn &#x27;https://yist.top/&#x27;,链接按钮,far fa-hand-point-right,green larger %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><a class="btn-beautify larger" href="https://yist.top/"   title="链接按钮"><i class="far fa-hand-point-right"></i><span>链接按钮</span></a><a class="btn-beautify blue larger" href="https://yist.top/"   title="链接按钮"><i class="far fa-hand-point-right"></i><span>链接按钮</span></a><a class="btn-beautify pink larger" href="https://yist.top/"   title="链接按钮"><i class="far fa-hand-point-right"></i><span>链接按钮</span></a><a class="btn-beautify red larger" href="https://yist.top/"   title="链接按钮"><i class="far fa-hand-point-right"></i><span>链接按钮</span></a><a class="btn-beautify purple larger" href="https://yist.top/"   title="链接按钮"><i class="far fa-hand-point-right"></i><span>链接按钮</span></a><a class="btn-beautify orange larger" href="https://yist.top/"   title="链接按钮"><i class="far fa-hand-point-right"></i><span>链接按钮</span></a><a class="btn-beautify green larger" href="https://yist.top/"   title="链接按钮"><i class="far fa-hand-point-right"></i><span>链接按钮</span></a>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
